\documentclass{beamer}
\usepackage{fixltx2e} % LaTeX patches, \textsubscript
\usepackage{cmap} % fix search and cut-and-paste in Acrobat
\usepackage[oldstylenums,largesmallcaps]{kpfonts}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amssymb} % checkmark

\usetheme{Pittsburgh}
\usefonttheme{serif}
\title{Extending Raft with Structured Voting}
\subtitle{Progress report}
\author{Leonhard Markert \(\cdot\) \textsc{lm510}}
% \institute{Emmanuel College}
\date{Monday 10, 2014}

%% Custom commands
\newcommand{\voted}[1]{\textbf{\usebeamercolor[fg]{frametitle}#1}}

\begin{document}

%% Prelude

\begin{frame}
    \titlepage
\end{frame}

%% Main content

\section{Introduction}
\begin{frame}{Introduction}
    \begin{columns}[t]
        \begin{column}{.47\textwidth}
            \begin{block}{Raft consensus algorithm}
                \begin{itemize}
                    \item Aims to replace Paxos
                    \item Uses majority voting
                    % \item Replicated state machine model
                    \item Correctness requires that \emph{any two quorums overlap}
                    % \item Rafter implements Raft
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{.53\textwidth}
            \begin{block}{Structured voting}
                \begin{itemize}
                    \item Impose logical structure
                    \item Result: smaller quorums
                \end{itemize}

                \begin{exampleblock}{Example: Grid Protocol}
                    \medskip
                    \begin{columns}
                        \begin{column}{.2\textwidth}
                            \begin{tabular}{c | c | c}
                                A & \voted{B} & C \\
                                \hline
                                D & \voted{E} & \voted{F} \\
                                \hline
                                \voted{G} & \voted{H} & I \\
                                % \hline
                                % J & \voted{K} & L \\
                            \end{tabular}
                        \end{column}
                        \begin{column}{.47\textwidth}
                            \small{One node from each column and one complete column}
                        \end{column}
                    \end{columns}
                \end{exampleblock}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

\section{Progress}
\begin{frame}{Progress}
    \begin{block}{Structured voting}
        \begin{columns}
            \begin{column}{.7\textwidth}
                \begin{itemize}
                    \item Core voting algorithm and data types
                    \item Voting structure generators for Majority and Grid Protocol
                \end{itemize}
            \end{column}
            \begin{column}{.2\textwidth}
                \bigskip

                \hspace*{-12mm}\includegraphics[width=1.7\textwidth, clip=true, trim=1.3cm 1.3cm 1.3cm 1.3cm]{Maj_struct.pdf}
            \end{column}
        \end{columns}
    \end{block}
    \begin{block}{Integration and testing}
        \begin{itemize}
            \item Integration with Erlang Raft library, \emph{Rafter} % two days
            \item Unit test adaptation % two weeks
            \item Memcached state machine and \textsc{tcp} protocol
            \item Preparation for scale-up experiments using Amazon \textsc{ec2}
        \end{itemize}
    \end{block}
\end{frame}

\section{Challenges}
\begin{frame}{Challenges}
    \begin{block}{Erlang: distributed, functional, dynamically typed}
        \begin{itemize}
            \item Distributed programming idioms and libraries
            \item Tool support (debugging, profiling etc.) not great
        \end{itemize}
    \end{block}
    \begin{block}{Modelling}
        \begin{itemize}
            \item Which metric matters most for performance?
                \begin{description}[m]
                    \item[Availability.] Probability that an operation succeeds % based on per-node availability
                    \item[Cost.] Expected quorum size
                    \item[Expected number of votes required for quorum.] \checkmark
                \end{description}
        \end{itemize}
    \end{block}
\end{frame}

\section{To do}
\begin{frame}{To do}
    \begin{itemize}
        \item Benchmarking voting structures
            \begin{itemize}
                \item against each other
                \item against plain Rafter
            \end{itemize}
        \item Theoretical model to find expected number of votes required for quorum for different voting schemes
        \item Planning and writing the dissertation
    \end{itemize}
    \begin{block}{Optional}
        \begin{itemize}
            \item More voting structure generators
            \item Allow changing the voting scheme at run-time % (= heterogeneous voting structure)
        \end{itemize}
    \end{block}
\end{frame}

\end{document}
